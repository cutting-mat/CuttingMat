(function(e){function t(t){for(var r,o,u=t[0],i=t[1],s=t[2],f=0,l=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={main:0},a={main:0},c=[];function u(e){return i.p+"js/"+({"global-components":"global-components"}[e]||e)+"."+{"chunk-0925550c":"2ffe88cd","chunk-2d0b8ef0":"b13478aa","chunk-2d0e59c0":"ba2f2224","chunk-2d23803a":"6a2d656a","chunk-363b9211":"28413c5a","chunk-39bde835":"c3b1822a","chunk-529c6bde":"71ac0e4f","chunk-54e37c56":"fcc55963","chunk-65a10101":"bfc8f4c0","chunk-8b9d5c54":"9e1bbe72","chunk-a76acd66":"bb92a027","chunk-e6bef464":"f3b6a3f4","global-components":"1799ca45","chunk-6d732660":"bfc428a0","chunk-7fff2240":"fcf34605","chunk-756b0c07":"225f9268","chunk-1dfc9c8e":"f3791275","chunk-2d0a4bde":"fb50ac48","chunk-2d0daa66":"88835eae"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0925550c":1,"chunk-363b9211":1,"chunk-39bde835":1,"chunk-54e37c56":1,"chunk-a76acd66":1,"chunk-e6bef464":1,"global-components":1,"chunk-6d732660":1,"chunk-7fff2240":1,"chunk-756b0c07":1,"chunk-1dfc9c8e":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({"global-components":"global-components"}[e]||e)+"."+{"chunk-0925550c":"e7971c0f","chunk-2d0b8ef0":"31d6cfe0","chunk-2d0e59c0":"31d6cfe0","chunk-2d23803a":"31d6cfe0","chunk-363b9211":"77e72bab","chunk-39bde835":"798eeb43","chunk-529c6bde":"31d6cfe0","chunk-54e37c56":"b8d6a32c","chunk-65a10101":"31d6cfe0","chunk-8b9d5c54":"31d6cfe0","chunk-a76acd66":"a95ab4ae","chunk-e6bef464":"88125530","global-components":"b0c96f82","chunk-6d732660":"db2de6cf","chunk-7fff2240":"becee8d6","chunk-756b0c07":"db2de6cf","chunk-1dfc9c8e":"2d261086","chunk-2d0a4bde":"31d6cfe0","chunk-2d0daa66":"31d6cfe0"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],f=s.getAttribute("data-href");if(f===r||f===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],d.parentNode.removeChild(d),n(c)},d.href=a,0!==d.href.indexOf(window.location.origin+"/")&&(d.crossOrigin="anonymous");var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=u(e),0!==f.src.indexOf(window.location.origin+"/")&&(f.crossOrigin="anonymous");var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/template-element-ui/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=f;c.push(["2365","chunk-vendors"]),n()})({"0704":function(e,t,n){"use strict";n("c1eb")},2365:function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("b636"),n("dc8d"),n("efe9"),n("d28b"),n("2a1b"),n("8edd"),n("80e0"),n("6b9e"),n("197b"),n("2351"),n("8172"),n("944a"),n("81b8"),n("d9e2"),n("967a"),n("9fbf"),n("33d1"),n("99af"),n("a874"),n("cb29"),n("4de4"),n("7db0"),n("c740"),n("0481"),n("5db7"),n("a630"),n("caad"),n("e260"),n("a15b"),n("d81d"),n("5ded"),n("fb6a"),n("4e82"),n("f785"),n("a434"),n("4069"),n("73d9"),n("c19f"),n("efec"),n("b56e"),n("b0c0"),n("6c57"),n("e9c4"),n("0c47"),n("4ec9"),n("5327"),n("79a8"),n("9ff9"),n("3ea3"),n("40d9"),n("ff9c"),n("0ac8"),n("f664"),n("4057"),n("bc01"),n("6b93"),n("ca21"),n("90d7"),n("2af1"),n("0261"),n("7898"),n("23dc"),n("b65f"),n("a9e3"),n("35b3"),n("f00c"),n("8ba4"),n("9129"),n("583b"),n("aff5"),n("e6e1"),n("c35a"),n("25eb"),n("a3a2"),n("b680"),n("cca6"),n("12a8"),n("e71b"),n("4fadc"),n("dca8"),n("c1f9"),n("e439"),n("dbb4"),n("7039"),n("3410"),n("0541"),n("2b19"),n("c906"),n("e21d"),n("e43e"),n("b64b"),n("bf96"),n("5bf7"),n("cee8"),n("af93"),n("d3b7"),n("07ac"),n("e6cf"),n("820e"),n("dbfa"),n("a79d"),n("a6fd"),n("4ae1"),n("3f3a"),n("ac16"),n("5d41"),n("9e4a"),n("7f78"),n("c760"),n("db96"),n("1bf2"),n("d6dd"),n("7ed3"),n("8b9a"),n("f8c9"),n("4d63"),n("c607"),n("ac1f"),n("5377"),n("2c3e"),n("00b4"),n("25f0"),n("6062"),n("ea98"),n("f5b2"),n("8a79"),n("f6d6"),n("2532"),n("3ca3"),n("466d"),n("a1f0"),n("843c"),n("4d90"),n("d80f"),n("38cf"),n("5319"),n("5b81"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("1e25"),n("eee7"),n("18a5"),n("1393"),n("04d3"),n("cc71"),n("c7cd"),n("9767"),n("1913"),n("c5d0"),n("9911"),n("c96a"),n("2315"),n("4c53"),n("664f"),n("cfc3"),n("4a9b"),n("fd87"),n("8b09"),n("143c"),n("5cc6"),n("8a59"),n("84c3"),n("fb2c"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ec97"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("10d1"),n("1fe2"),n("159b"),n("ddb0"),n("0eb6"),n("b7ef"),n("8bd4"),n("9f96"),n("ad1f"),n("2b3d"),n("bf19"),n("9861"),n("96cf");var r=n("2b0e"),o=n("5c96"),a=n.n(o),c=(n("0fae"),n("fd7b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"flex-row align-center myheader"},[n("h1",{staticClass:"logo",on:{click:function(t){return e.$router.push("/")}}},[e._v("LOGO")]),n("ul",{staticClass:"flex-1 navlist"},e._l(e.list,(function(t,r){return n("li",{key:r,staticClass:"_item",class:{cur:0===e.$route.path.indexOf(t.path)},on:{click:function(n){return e.toggleNav(t)}}},[e._v(" "+e._s(t.meta&&t.meta.title||t.name)+" ")])})),0),e.state.user&&e.state.user.accountName?n("el-dropdown",{staticClass:"userAvat",attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("el-avatar",{attrs:{icon:"el-icon-user-solid"}}),n("span",{staticClass:"accountName"},[e._v(e._s(e.state.user.accountName))]),n("i",{staticClass:"el-icon-caret-bottom"})],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1):e._e()],1)}),u=[],i=n("c7b2"),s=n("9f67"),f={data:function(){return{state:i["d"].state}},computed:{list:function(){return(this.$AccessControl?this.state.menu:s["a"]).filter((function(e){return!e.meta||!e.meta.hide}))}},methods:{toggleNav:function(e){e.path?e.redirect!==this.$route.path&&this.$router.push(e.path):window.open(e.url,"_blank")},handleCommand:function(e){switch(e){case"logout":this.logout();break;default:break}},logout:function(){this.$confirm("确认退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i["e"].emit("logout")}))}}},l=f,d=(n("0704"),n("2877")),h=Object(d["a"])(l,c,u,!1,null,"4db5f62d",null),p=h.exports,b={Header:p,Breadcrumb:function(){return n.e("global-components").then(n.bind(null,"4639"))},SubNav:function(){return n.e("global-components").then(n.bind(null,"fd5c"))},Pagination:function(){return n.e("global-components").then(n.bind(null,"c08e"))},BaseCURD:function(){return n.e("global-components").then(n.bind(null,"70ef"))},BaseInputNumber:function(){return n.e("global-components").then(n.bind(null,"c9cf"))},BaseUploader:function(){return n.e("global-components").then(n.bind(null,"6121"))},DictRadio:function(){return n.e("global-components").then(n.bind(null,"c415"))},DictCheckbox:function(){return n.e("global-components").then(n.bind(null,"7e3b"))},DictSelect:function(){return n.e("global-components").then(n.bind(null,"4dbe"))},DictCascader:function(){return n.e("global-components").then(n.bind(null,"f242"))}},m={date:i["e"].formatDate},y={install:function(e){Object.keys(m).forEach((function(t){e.filter(t,m[t])})),Object.keys(b).forEach((function(t){e.component(t,b[t])}))}},g=n("8c4f");r["default"].use(g["a"]);var v=function(){s["b"][0].children=r["default"].prototype.$AccessControl?[]:s["a"];var e=new g["a"]({routes:s["b"]});return r["default"].setRouterGuards&&r["default"].setRouterGuards(e,s["b"]),e.beforeEach((function(e,t,n){e.name&&(document.title=e.meta.title||e.name),n()})),e},k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",{attrs:{id:"app"}})},w=[],A={methods:{},created:function(){this.$AccountAuth({loginCallback:function(){i["d"].action("user",!0)}})}},O=A,j=(n("516d"),Object(d["a"])(O,k,w,!1,null,null,null)),S=j.exports;r["default"].use(a.a),r["default"].use(y),r["default"].use(i["b"]),r["default"].use(i["a"]),new r["default"]({router:v(),render:function(e){return e(S)}}).$mount("#app")},"516d":function(e,t,n){"use strict";n("c15d")},"99dd":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("c7b2"),o=function(e){return r["c"].post("/login",e)},a=function(e,t){return r["c"].get("/getPermissions",{params:e},t)},c=function(e,t){return r["c"].get("/getAccountInfo",{params:e},t)},u=function(e){return r["c"].put("/updatePassword",e)}},"9c48":function(e,t,n){},"9f67":function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-col"},[n("Header"),n("div",{staticClass:"flex-1 flex-row"},["/"!==e.$route.path?n("SubNav"):e._e(),"/"==e.$route.path?n("dashboard",{staticClass:"flex-1"}):n("div",{staticClass:"flex-1 flex-col"},[n("Breadcrumb"),n("router-view",{staticClass:"flex-1"})],1)],1)],1)},o=[],a={components:{dashboard:function(){return n.e("chunk-363b9211").then(n.bind(null,"14ae"))}},data:function(){return{}}},c=a,u=(n("d0db"),n("2877")),i=Object(u["a"])(c,r,o,!1,null,null,null),s=i.exports,f=[{path:"/",name:"首页",component:s},{path:"/login",name:"登录",component:function(e){return n.e("chunk-54e37c56").then(function(){var t=[n("cb8f")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/public",name:"公开页面",component:function(e){return n.e("chunk-2d0e59c0").then(function(){var t=[n("94e4")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/404",name:"找不到页面",component:function(e){return n.e("chunk-65a10101").then(function(){var t=[n("3286")];e.apply(null,t)}.bind(this)).catch(n.oe)}}],l=[{path:"/system",name:"系统设置",meta:{icon:"&#xe606;"},component:function(e){return n.e("chunk-2d23803a").then(function(){var t=[n("fe27")];e.apply(null,t)}.bind(this)).catch(n.oe)},redirect:"/system/account",children:[{path:"account",name:"账号管理",component:function(e){return n.e("chunk-8b9d5c54").then(function(){var t=[n("ffb8")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"role",name:"角色管理",component:function(e){return n.e("chunk-529c6bde").then(function(){var t=[n("e0ad")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"resource",name:"资源管理",component:function(e){return n.e("chunk-0925550c").then(function(){var t=[n("2ae7")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"dict",name:"字典管理",meta:{icon:"&#xe601;"},component:function(e){return n.e("chunk-39bde835").then(function(){var t=[n("5dcf")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}],d=[{path:"/user",name:"个人中心",component:function(e){return n.e("chunk-2d0b8ef0").then(function(){var t=[n("3195")];e.apply(null,t)}.bind(this)).catch(n.oe)},redirect:"/user/info",children:[{path:"info",name:"个人信息",meta:{icon:"&#xe601;"},component:function(e){return n.e("chunk-a76acd66").then(function(){var t=[n("f971")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"password",name:"修改密码",meta:{icon:"&#xe601;"},component:function(e){return n.e("chunk-e6bef464").then(function(){var t=[n("00d6")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}];function h(e){return y(e)||m(e)||b(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t["a"]=[].concat(h(l),h(d))},c15d:function(e,t,n){},c1eb:function(e,t,n){},c7b2:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return Q}));var r={};n.r(r),n.d(r,"storage",(function(){return h})),n.d(r,"deepcopy",(function(){return p})),n.d(r,"buildTree",(function(){return b})),n.d(r,"formatDate",(function(){return m})),n.d(r,"on",(function(){return v})),n.d(r,"emit",(function(){return k})),n.d(r,"catchError",(function(){return w})),n.d(r,"getSuffix",(function(){return A})),n.d(r,"throttle",(function(){return O})),n.d(r,"getUrlParam",(function(){return j})),n.d(r,"matchRequest",(function(){return S}));var o=n("2b0e");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var d="",h=function(e,t){var n=localStorage;if(e="".concat(d||"/template-element-ui/","_").concat(e),void 0===t){var r=n.getItem(e);return r&&0===r.indexOf("autostringify-")?JSON.parse(r.split("autostringify-")[1]):r}return("[object Object]"===Object.prototype.toString.call(t)||Array.isArray(t))&&(t="autostringify-"+JSON.stringify(t)),n.setItem(e,t)},p=function e(t){if(!t)return t;var n=t instanceof Array?[]:{};for(var r in t)n[r]="object"===l(t[r])?e(t[r]):t[r];return n},b=function(e,t,n){var r={},o=e.map((function(e){return r[e.id]=!0,Object.assign({},e)}));t=t||"pid";var a,u=[],s={},f=i(o);try{for(f.s();!(a=f.n()).done;){var l=a.value,d=l.id,h=l[t];s[d]||(s[d]={}),s[d]=c(c({},l),{},{children:Array.isArray(s[d]["children"])?s[d]["children"]:null});var p=s[d];h&&h!==d&&r[h]?(s[h]||(s[h]={children:[]}),Array.isArray(s[h].children)||(s[h].children=[]),s[h].children.push(p)):u.push(p)}}catch(m){f.e(m)}finally{f.f()}if("function"===typeof n){var b=function e(t){t.sort(n),t.forEach((function(t){Array.isArray(t.children)&&t.children.length&&e(t.children)}))};b(u)}return u},m=function(e,t){if(!e)return null;switch(void 0===t&&(t="day-time"),t){case"year":t="yyyy";break;case"month":t="yyyy/MM";break;case"day":t="yyyy/MM/dd";break;case"day-time":t="yyyy/MM/dd hh:mm";break}isNaN(parseInt(e))||(e=parseInt(e));var n=new Date(e),r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return t},y=new o["default"],g={},v=function(e,t){if(e&&e.split){if(g[e]&&y.$off(e,g[e]),"function"===typeof t)return g[e]=t,y.$on(e,t);y.$off(e)}},k=function(e,t){var n=Object.keys(g);n.forEach((function(n){if(e===n.split("__")[0])return y.$emit(n,t)}))},w=function(e){if(e.response)switch(e.response.status){case 400:o["default"].prototype.$message({message:e.response.data.msg||"请求参数异常",type:"error"});break;case 401:o["default"].prototype.$message({message:e.response.data.msg||"未授权或授权已过期",type:"warning",onClose:function(){k("logout")}});break;case 403:o["default"].prototype.$message({message:e.response.data.msg||"无访问权限, 请联系企业管理员",type:"warning"});break;default:o["default"].prototype.$message({message:e.response.data.msg||"服务端异常, 请联系技术支持",type:"error"})}else if(e.message){var t=e.message;t.indexOf("timeout")>-1&&(t="请求超时, 请重试"),t.indexOf("Network")>-1&&(t="网络异常"),o["default"].prototype.$message({message:t,type:"error"})}return Promise.reject(e)},A=function(e){var t=e.lastIndexOf("."),n="";return-1!=t&&(n=e.substring(t+1)),n.toLowerCase()},O=function(e,t,n){var r=null,o=new Date;return t=t||128,n=n||1e3,function(){var a=this,c=arguments,u=new Date;clearTimeout(r),u-o>=n?(e.apply(a,c),o=u):r=setTimeout((function(){e.apply(a,c)}),t)}},j=function(e,t){if(e&&e.split){var n=new RegExp("(^|&)"+e+"=([^&#/]*)","i"),r=(t||window.location.href).split("?")[1]||"",o=r.match(n);if(null!==o)return decodeURI(o[2])}return null},S=function(e){var t=null;if("function"===typeof e){var n=new RegExp(/\.([^(]+)\("([^"]+)"/);t=e.toString().match(n),t&&t.length>2&&(t=[t[1],t[2]].join(","))}return t},x=n("99dd");function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}var $,E={state:{accessToken:null,menu:[],user:{},permission:[]},set:function(e,t){var n=this;return new Promise((function(r){void 0===n.state[e]&&console.warn('store.set("'.concat(e,'", value): key has not registered yet!')),n.state[e]=t,console.log("store update:",e,"=>",n.state[e]),r(!0)}))},get:function(e){if(e&&e.split)return this.state[e]},checkStore:function(e){var t,n=C(this.state[e]);switch(Array.isArray(this.state[e])&&(n="array"),n){case"array":t=!!this.state[e].length;break;case"object":t=!!Object.keys(this.state[e]).length;break;default:t=!!this.state[e]}return t},action:function(e,t){var n=this;return new Promise((function(r,o){var a=function(t){n.set(e,t),r(t)};if(!t&&n.checkStore(e))r(n.state[e]);else switch(e){case"permission":x["d"](null,{cache:!t}).then((function(e){var t={menus:e.data.data.filter((function(e){return 0===e.type})),resources:e.data.data.filter((function(e){return 1===e.type}))};a(t)}));break;case"user":x["b"](null,{cache:!t}).then((function(e){a(e.data.data)}));break;case"someKey":break;default:o('store.action("'.concat(e,'", ').concat(t,"): action has not registered yet!"))}}))}},P=E,_=n("0b65"),T={mock:"http://rap2api.taobao.org/app/mock/223572",dev:"http://zjsz.kaifa/japi",test:"http://test.com/api",master:"//master.com/api"},R={"dev.com":T.dev,"test.com":T.test,"master.com":T.master},M=R[window.location.host]||T.dev,I=_["a"].create({baseURL:M,timeout:1e4,headers:{"Content-Type":"application/json"}});function N(e){return U(e)||B(e)||L(e)||D()}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function B(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(e){if(Array.isArray(e))return q(e)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}I.interceptors.request.use((function(e){if("get"===e.method||"delete"===e.method)for(var t in e.params)""===e.params[t]&&(e.params[t]=null,console.log("[".concat(e.method," ").concat(e.url,"]参数[").concat(t,"]由''重置为null")));return e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){return 200!=e.status?r.catchError(e):500===e.data.code&&e.data.msg?r.catchError({response:e}):(e.headers["jwt-update-token"]&&r.emit("login",{silent:!0,data:{accessToken:e.headers["jwt-update-token"]}}),e)}),(function(e){return r.catchError(e)}));var H={install:function(e){e.setRouterGuards=function(e,t){if($=N(t.filter((function(e){return"/"!==e.path&&""!==e.path})).map((function(e){return e.path}))),console.warn("AccountAuth 开启, 免登录路由白名单:",$),!P.get("accessToken")){var n=r.storage("auth")||{};n.accessToken&&P.set("accessToken",n.accessToken)}e.beforeEach((function(e,t,n){if(!P.get("accessToken")){if(-1!==$.indexOf("/"+e.path.split("/")[1]))return n();if("/login"!==e.path){var r={};return r["redirect"]=e.fullPath,n({path:"/login",query:r})}}n()}))},e.prototype.$AccountAuth=function(e){var t=this,n=Object.assign({loginCallback:null},e||{}),o=function(e){if(P.get("accessToken")){I.defaults.headers.common["Authorization"]=P.get("accessToken");var r=function(){e&&e.redirect&&t.$router.replace({path:e.redirect})};e&&e.silent?console.log("token已自动续期"):t.$AccessControl?t.$AccessControl().then((function(){r(),"function"===typeof n.loginCallback&&n.loginCallback(e)})):(r(),"function"===typeof n.loginCallback&&n.loginCallback(e))}};return r.on("login",(function(e){r.storage("auth",e.data),P.set("accessToken",e.data.accessToken),o(e)})),r.on("logout",(function(){r.storage("auth",""),-1===$.indexOf("/"+t.$router.currentRoute.path.split("/")[1])&&window.location.reload()})),o()}}},G=n("9f67"),J=[],z=function(e){I.interceptors.request.use((function(t){var n=t.url.replace(t.baseURL,"").split("?")[0];return e[t.method+","+n]?t:Promise.reject({message:t.method+","+n+"无访问权限"})}))},F=function(e){var t={};return Array.isArray(e.resources)&&e.resources.forEach((function(e){var n=e.method.toLowerCase()+","+e.url;t[n]=!0})),t},K=function(e){var t={},n=function e(n,r){n.map((function(n){if(n.route){var o=((r?r+"/":"")+n.route).replace(/^\//,"");t["/"+o]=!0,Array.isArray(n.children)&&e(n.children,(r?r+"/":"")+n.route)}}))};if(Array.isArray(e.menus)){var o=r.buildTree(e.menus);n(o)}return t},Y=function e(t,n){var r=[];if(t.forEach((function(t){var o=(n?n+"/":"")+t.path;t.fullPath=o,t.meta||(t.meta={});var a=t.redirect&&t.redirect.split?t.redirect:null;if(a&&Array.isArray(t.children)&&t.children.length){var c=t.children.findIndex((function(e){return!e.fullPath||e.fullPath===a}));-1===c&&(console.warn("".concat(t.redirect,"不在路由权限内, 自动重置为").concat(t.children[0].fullPath)),t.redirect=t.children[0].fullPath)}Array.isArray(t.children)&&t.children.length&&e(t.children,(n?n+"/":"")+("/"!==t.path?t.path:"")),r.push(t)})),n)return r;J=J.concat(r)},Q={install:function(e){e.directive("auth",{inserted:function(t,n){e.prototype.$_auth&&!e.prototype.$_auth(n.value)&&t.parentNode.removeChild(t)}}),e.prototype.$AccessControl=function(){var t=this;return new Promise((function(n,o){P.action("permission").then((function(o){var a=F(o),c=K(o);z(a);var u=[],i=function e(t,n){var r=[];if(t.forEach((function(t){var o=(n?n+"/":"")+t.path;t.fullPath=o,c[o]&&(Array.isArray(t.children)&&(t.children=e(t.children,(n?n+"/":"")+t.path)),r.push(t))})),n)return r;u=u.concat(r)};if(i(G["a"]),!u||!u.length)return r.storage("auth",""),document.body.innerHTML="<h1>账号访问受限, 请联系系统管理员！</h1>";J=[],Y(u),J.forEach((function(e){t.$router.addRoute("首页",e)})),t.$router.addRoute({path:"*",redirect:"/404"}),e.prototype.$_auth=function(e){var t=[],n=!0,o=function(e){var n=r.matchRequest(e);n&&t.push(n)};Array.isArray(e)?e.forEach(o):"function"===typeof e&&o(e);for(var c=0;c<t.length;c++){var u=t[c];if(!a[u]){n=!1;break}}return n},P.set("menu",u),n({resourcePermission:a,routePermission:c,actualRouter:u})})).catch((function(e){o(e)}))}))}}}},d0db:function(e,t,n){"use strict";n("9c48")},fd7b:function(e,t,n){}});