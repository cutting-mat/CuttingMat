import{c as n,d as r}from"./auth.2d98cd95.js";import{n as l}from"./index.afc5b2ba.js";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-input",t._b({staticClass:"InputCaptchaImage",attrs:{placeholder:"\u9A8C\u8BC1\u7801"},model:{value:t.formData.userInput,callback:function(s){t.$set(t.formData,"userInput",s)},expression:"formData.userInput"}},"el-input",t.$attrs,!1),[e("div",{staticClass:"valid_image_wrap flex-row align-center",style:{height:t.imgHeight,width:t.imgWidth,margin:"0 -20px"},attrs:{slot:"append"},on:{click:t.fetchData},slot:"append"},[t._v(" \u52A0\u8F7D\u4E2D... "),!t.loading&&t.img.src?e("img",{staticClass:"valid_image",staticStyle:{height:"100%",width:"100%","object-fit":"contain"},attrs:{src:t.img.src}}):t._e()])])},c=[];const u={props:{imgWidth:{type:String,required:!1,default:"76px"},imgHeight:{type:String,required:!1,default:"38px"}},data(){return{loading:!1,formData:{id:null,userInput:null},img:{src:null}}},methods:{fetchData(){if(this.loading)return null;this.loading=!0,n().then(t=>{this.loading=!1,t.status===200?(this.formData.id=t.data.id,this.img.src=t.data.content):console.warn("\u56FE\u5F62\u9A8C\u8BC1\u7801\u83B7\u53D6\u5931\u8D25")}).catch(()=>{this.loading=!1})},valid(){return new Promise((t,a)=>{this.formData.userInput?r(this.formData).then(e=>{e.status===200?t(e.data):a("\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")}).catch(()=>{a("\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")}):a("\u8BF7\u586B\u5199\u9A8C\u8BC1\u7801")})}},created(){this.fetchData()}},i={};var d=l(u,o,c,!1,p,"2620158a",null,null);function p(t){for(let a in i)this[a]=i[a]}var f=function(){return d.exports}();export{f as default};
