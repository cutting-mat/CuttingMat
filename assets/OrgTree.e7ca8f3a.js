import{l as e}from"./org.87f082dc.js";import{n as t}from"./index.4ba80ac1.js";import"./ui.98a3144a.js";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"table",attrs:{height:"100%","row-key":"id",lazy:"",data:e.tableData,load:e.load},on:{"selection-change":e.handleSelectionChange}},[e.picker?a("el-table-column",{attrs:{type:"selection",width:"45"}}):e._e(),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"fullName",label:"全称"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$filter.date(t.row.createTime)))]}}])}),e.picker?e._e():a("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("action",null,{row:t.row})]}}],null,!0)})],1)},l=[];const i={props:{value:{type:Array,required:!1,default:()=>[]},picker:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1}},data:()=>({loading:!1,tableData:[],selection:[]}),watch:{value:{handler(){this.tableData=this.value},deep:!0},selection:{handler(){this.picker&&this.$emit("pick",this.selection)},deep:!0}},methods:{handleSelectionChange(e){e.length>1&&!this.multiple?e.forEach(((t,a)=>{this.$refs.table.toggleRowSelection(t,a===e.length-1)})):this.selection=e},load(e,t,a){this.fetchData(e?{pid:e.id}:null).then((e=>{a(e.data)}))},fetchData(t){return this.loading=!0,e(t).then((e=>(this.loading=!1,e))).catch((()=>{this.loading=!1}))}},created(){this.value.length?this.tableData=this.value:this.fetchData().then((e=>{this.tableData=e.data}))}},n={};var o=t(i,a,l,!1,r,"d2276576",null,null);function r(e){for(let t in n)this[t]=n[t]}var s=function(){return o.exports}();export{s as default};
