import{n as e,_ as i,b as t,d as o}from"./index.e87509cf.js";import{l as s}from"./org.bf32c1ba.js";import"./ui.ab87dbd1.js";const a=e({model:{prop:"value",event:"change"},props:{value:{type:[Number,String],required:!1},adapter:{type:Function,required:!1,default:e=>e},size:{type:String,required:!1,default:"small"}},components:{OrgTree:()=>i((()=>import("./OrgTree.e7f9c4bc.js")),["assets/OrgTree.e7f9c4bc.js","assets/org.bf32c1ba.js","assets/index.e87509cf.js","assets/index.de393efa.css","assets/ui.ab87dbd1.js"])},data:()=>({loading:!1,dialogVisible:!1,list:[],checkedNode:[]}),computed:{showTitle(){return this.adapter(this.value)}},methods:{fetchData:function(){this.loading=!0,s().then((e=>{this.loading=!1,e.data&&(this.list=t(e.data))})).catch((()=>{this.loading=!1}))},submit(){this.checkedNode&&this.checkedNode[0]&&this.$emit("change",this.checkedNode[0].id,o(this.checkedNode[0])),this.dialogVisible=!1}},created(){this.fetchData()}},(function(){var e=this,i=e._self._c;return i("div",{staticClass:"orgPick-box"},[i("el-input",{attrs:{size:e.size,readonly:"",value:e.showTitle,placeholder:"请选择"},on:{focus:function(i){e.dialogVisible=!0}}}),i("el-dialog",{staticClass:"custom-dialog",attrs:{"append-to-body":"","close-on-click-modal":!1,title:"选择组织",visible:e.dialogVisible,width:"1000px"},on:{"update:visible":function(i){e.dialogVisible=i},open:function(i){e.checkedNode=[]}}},[i("div",{staticClass:"orgPicker"},[e.dialogVisible?i("OrgTree",{attrs:{value:e.list,picker:""},on:{pick:function(i){e.checkedNode=i}}}):e._e()],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.submit}},[e._v("确 定")]),i("el-button",{attrs:{size:"medium"},on:{click:function(i){e.dialogVisible=!1}}},[e._v("取 消")])],1)])],1)}),[],!1,null,"1a3ce7b5",null,null).exports;export{a as default};
