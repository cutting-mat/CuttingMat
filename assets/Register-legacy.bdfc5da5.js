!function(){function e(e,t,a,r,n,i,o){try{var l=e[i](o),s=l.value}catch(u){return void a(u)}l.done?t(s):Promise.resolve(s).then(r,n)}var t=document.createElement("style");t.innerHTML=".registerPage[data-v-e86ee190]{background:url(/template-element-ui/assets/b.af6c9463.jpg) center no-repeat;background-size:cover}.register-box[data-v-e86ee190]{width:600px;background:#ffffff;box-shadow:0 1px 4px #a3a3a3;border-radius:6px;padding:50px 100px;box-sizing:border-box}.title[data-v-e86ee190]{font-size:24px;font-weight:600;color:#94070a;line-height:24px;letter-spacing:1px;margin-bottom:20px;text-align:center}.submit-button[data-v-e86ee190]{width:100%;font-size:18px}\n",document.head.appendChild(t),System.register(["./index-legacy.c15b5d39.js","./ui-legacy.f2062c2b.js"],(function(t){"use strict";var a,r;return{setters:[function(e){a=e.n,r=e.r},function(){}],execute:function(){var n=function(e){var t=e.value;return"function"==typeof t&&(t=t()),e.label||(e.label={mobile:"手机号",idCard:"身份证号",tel:"电话",email:"邮箱"}[e.validType]||""),new Promise((function(a,r){if(null==t||!t.length)return e.required?r("请输入".concat(e.label)):a();switch(e.validType){case"mobile":/^(?:(?:\+|00)86)?1\d{10}$/.test(String(t))?a():r("".concat(e.label,"格式有误，请重新输入"));break;case"idCard":!function(e){return/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/.test(String(e))}(t)?r("".concat(e.label,"格式有误，请重新输入")):a();break;case"tel":!function(e){return/^(?:(?:\d{3}-)?\d{8}|^(?:\d{4}-)?\d{7,8})(?:-\d+)?$/.test(String(e))}(t)?r("".concat(e.label,"格式有误，请重新输入")):a();break;case"email":!function(e){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(String(e))}(t)?r("".concat(e.label,"格式有误，请重新输入")):a();break;default:r("不支持的validType: ".concat(e.validType))}}))},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-row align-center justify-center registerPage"},[a("div",{staticClass:"register-box"},[a("div",{staticClass:"title"},[e._v("注册账号")]),a("el-form",{ref:"validForm",attrs:{model:e.formData,rules:e.rules,"label-width":"100px","hide-required-asterisk":"",size:"medium"},nativeOn:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[a("el-form-item",{attrs:{prop:"mobile",required:"",label:"手机号："}},[a("el-input",{model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),a("el-form-item",{attrs:{prop:"userInput",label:"验证码："}},[a("InputSMS",{ref:"InputSMS",attrs:{type:"register",mobile:e.formData.mobile},on:{click:e.sendValidCode}})],1),a("el-form-item",{attrs:{prop:"name",label:"姓名："}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"==typeof t?t.trim():t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{prop:"company",label:"工作单位："}},[a("el-input",{model:{value:e.formData.company,callback:function(t){e.$set(e.formData,"company","string"==typeof t?t.trim():t)},expression:"formData.company"}})],1),a("el-form-item",{attrs:{prop:"password",label:"设置密码："}},[a("InputPassword",{attrs:{autocomplete:"off"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{prop:"checkPass",label:"重复密码："}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.formData.checkPass,callback:function(t){e.$set(e.formData,"checkPass",t)},expression:"formData.checkPass"}})],1),a("el-form-item",{staticClass:"submit-item"},[a("el-button",{staticClass:"submit-button",attrs:{"native-type":"submit",type:"primary",loading:e.loading}},[e._v("确 认")])],1)],1),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"flex-1"}),e._v(" 已有账号？"),a("el-link",{staticClass:"first",attrs:{type:"danger"},on:{click:function(t){return e.$router.push({name:"登录"})}}},[e._v(" 点击登录 ")])],1)],1),a("auth",{ref:"auth",attrs:{types:["captcha"]}})],1)},o={data:function(){var e=this;return{loading:!1,formData:{mobile:null,token:null,name:null,company:null,password:null,checkPass:null,userInput:null},rules:{mobile:[{validator:function(){return n({required:!0,validType:"mobile",value:function(){var t;return null===(t=e.formData)||void 0===t?void 0:t.mobile}})},trigger:[]}],userInput:[{validator:function(){return new Promise((function(t,a){e.$refs.InputSMS.valid().then((function(a){e.resData=a,t()})).catch((function(e){a(e)}))}))},trigger:[]}],name:[{required:!0,message:"请输入姓名",trigger:"change"}],company:[{required:!0,message:"请输入工作单位",trigger:"change"}],password:[{validator:function(t,a,r){""===a?r(new Error("请输入密码")):(""!==e.formData.checkPass&&e.$refs.validForm.validateField("checkPass"),r())},trigger:"blur"},{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"}],checkPass:[{validator:function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.formData.password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]},resData:null}},methods:{sendValidCode:function(){var e=this;this.$refs.validForm.validateField("mobile",(function(t){t||e.$refs.InputSMS.send()}))},register:function(){var t=this;if(this.loading)return null;this.loading=!0,this.$refs.validForm.validate(function(){var a,n=(a=regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(t.formData.token=t.resData,r(t.formData).then((function(e){t.loading=!1,200===e.status?t.$alert("注册成功,请登录","注册成功",{confirmButtonText:"确定",callback:function(){t.$router.replace({name:"登录"})}}):t.$message.error(e.data.message)})).catch((function(){t.loading=!1}))):t.loading=!1;case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=a.apply(t,r);function l(t){e(o,n,i,l,s,"next",t)}function s(t){e(o,n,i,l,s,"throw",t)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}())}},created:function(){}},l={},s=a(o,i,[],!1,u,"e86ee190",null,null);function u(e){for(var t in l)this[t]=l[t]}t("default",function(){return s.exports}())}}}))}();
