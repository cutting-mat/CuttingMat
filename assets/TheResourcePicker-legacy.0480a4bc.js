!function(){var e=document.createElement("style");e.innerHTML=".custom-tree-item[data-v-ce424fc8]{flex:1;display:flex;align-items:center;justify-content:space-between;font-size:14px;padding-left:6px}.extendLable span[data-v-ce424fc8]{margin-right:4px}.extendLable .source[data-v-ce424fc8]{color:#999;font-size:14px}.custom-tree[data-v-ce424fc8] .el-tree-node__content{height:32px;line-height:32px}\n",document.head.appendChild(e),System.register(["./index-legacy.6d13fafa.js","./resource-legacy.69600afe.js","./ui-legacy.748ef965.js"],(function(e){"use strict";var t,a,r,n;return{setters:[function(e){t=e.n,a=e.b,r=e.t},function(e){n=e.r},function(){}],execute:function(){var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tree",{ref:"tree",staticClass:"custom-tree",attrs:{data:e.list,props:e.defaultProps,"node-key":"id","default-expand-all":"","show-checkbox":e.picker,"check-strictly":""},on:{"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,n=t.data;return a("div",{staticClass:"custom-tree-item"},[a("div",{staticClass:"flex-1 extendLable"},[1===n.type?a("span",{staticStyle:{color:"#67c23a"}},[a("i",{staticClass:"el-icon-medal"})]):e._e(),a("span",{class:{source:1===n.type},staticStyle:{"margin-right":"20px"}},[e._v(" "+e._s(n.name)+" ")]),1===n.type?a("el-tag",{attrs:{size:"small",type:e.typeColor[n.method]}},[a("i",{staticClass:"el-icon-position"}),e._v(" "+e._s(n.method.toUpperCase())+" ")]):e._e(),a("el-tag",{attrs:{size:"small",type:"info"}},[0===n.type?a("i",{staticClass:"el-icon-link"}):e._e(),e._v(" "+e._s(0===n.type?n.route:n.url)+" ")])],1),e.picker?a("span",{staticClass:"extendGroup"},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.handleCheckChange(n,!r.checked,!0)}}},[e._v(" 批量选择 ")])],1):a("span",{staticClass:"extendGroup"},[a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:e.resource.edit,expression:"resource.edit"}],attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.$emit("edit",n)}}},[e._v(" 编辑 ")]),0===n.type?a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:e.resource.add,expression:"resource.add"}],attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.$emit("append",n)}}},[e._v(" 添加子菜单 ")]):e._e(),0===n.type?a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:e.resource.add,expression:"resource.add"}],attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.$emit("add-resource",n)}}},[e._v(" 添加资源 ")]):e._e(),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:e.resource.remove,expression:"resource.remove"}],attrs:{size:"small",type:"text"},on:{click:function(t){return t.stopPropagation(),e.$emit("remove",n)}}},[e._v(" 删除 ")])],1)])}}])})},i=[],c={props:{picker:{type:Boolean,required:!1,default:!1},checked:{type:Array,required:!1},listdata:{type:Array,required:!1}},data:function(){return{resource:n,list:[],defaultProps:{children:"children",label:"title"},typeColor:{get:"success",post:"primary",put:"warning",delete:"danger"},trigger:null}},watch:{listdata:{handler:function(e){Array.isArray(e)&&(this.list=e)},immediate:!0},checked:{handler:function(){this.$refs.tree.setCheckedKeys(this.checked)},deep:!0}},methods:{handleCheckChange:function(e,t,a){var r=this,n=this.$refs.tree.getNode(e);n&&(this.$refs.tree.setChecked(n,t),a&&Array.isArray(e.children)&&e.children.length&&e.children.forEach((function(e){r.handleCheckChange(e,t,a)}))),this.$nextTick((function(){r.trigger()}))},fetchData:function(){var e=this;this.$store.getPermission().then((function(t){e.list=a(t.menus.concat(t.resources)),e.$nextTick((function(){e.$refs.tree.setCheckedKeys(e.checked)}))}))}},created:function(){this.listdata||this.fetchData()},mounted:function(){var e=this;this.trigger=r((function(){e.$emit("check",e.$refs.tree.getCheckedNodes())}))}},o={},l=t(c,s,i,!1,u,"ce424fc8",null,null);function u(e){for(var t in o)this[t]=o[t]}e("default",function(){return l.exports}())}}}))}();
